"use strict";!function(e){var t;function i(e){var t=$(e).attr("name");$(".radio input[name="+t+"]").closest(".radio").removeClass("radio_active"),$(e).closest(".radio").addClass("radio_active")}function o(e){var t=$(e).data("item"),i=$(e).closest(".lookbook").find('.lookbook__list .card[data-item="'+t+'"]');$(e).siblings(".point").addClass("point_disable"),$(i).removeClass("card_disable"),$(i).siblings().addClass("card_disable")}function a(){$(window).width()<=1e3?$(".info").insertAfter(".gallery"):$(".c-page__info").append($(".info"))}t={tile:{arrows:!1,dots:!0,fade:!0,autoplay:!0,autoplaySpeed:4e3,pauseOnHover:!1},recom:{slidesToShow:4,prevArrow:$(".arrow_prev"),nextArrow:$(".arrow_next"),responsive:[{breakpoint:1200,settings:{variableWidth:!0}},{breakpoint:1e3,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:500,settings:{slidesToShow:1}}]}},$(".slider").each(function(e,i){var o=$(i).data("slider");$(i).find(".slider__slides").slick(t[o])}),$(".gallery__view").addClass("show"),$(".gallery__items li").on("click",function(e){e.preventDefault(),$(this).parent().find(".active").removeClass("active"),$(this).addClass("active");var t=$(this).data("view");$(".gallery__view").removeClass("show"),setTimeout(function(){$(".gallery__view img").attr("src",t),$(".gallery__view").addClass("show")},300)}),$(".gallery__items li").first().trigger("click"),$(".tabs li").on("click",function(e){e.preventDefault(),$(this).parent().find(".active").removeClass("active"),$(this).addClass("active"),$("[data-tab]").hide();var t=$('[data-tab="'+$(this).index()+'"]').get(0);"FORM"===t.tagName?$(t).css("display","flex"):$(t).show()}),$(".tabs").each(function(e,t){$(t).find("li").first().trigger("click")}),$(".sidenav__item_drop > a").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("sidenav__item_show")}),$(".range input").ionRangeSlider(),$(".radio input:checked").each(function(e,t){i(t)}),$(".radio").on("click",function(){i($(this).find("input").get(0))}),$("[data-modal]").iziModal(),$("[data-open]").on("click",function(e){e.preventDefault();var t=$(this).data("open");$('[data-modal="'+t+'"]').iziModal("open")}),setTimeout(function(){$(".grid").masonry({itemSelector:".grid__item",gutter:19,horizontalOrder:!0})},100),$(".point").hover(function(){$(this).parent().find(".point_active").removeClass("point_active").siblings(".point_disable").removeClass("point_disable"),o(this)},function(){var e;$(this).hasClass("point_active")||(e=this,$(e).siblings().removeClass("point_disable"),$(e).closest(".lookbook").find(".card_disable").removeClass("card_disable"))}),$(".point").on("click",function(){$(this).addClass("point_active"),o(this)}),a(),$(window).on("resize",a),$(".menu").on("click",function(e){e.preventDefault(),$(this).closest(".header").toggleClass("header_show-menu")}),$(".city__current").on("click",function(e){e.preventDefault(),$(".city").toggleClass("city_show")});var s=$(".point_move").get(0),n=$(".lookbook__set img"),l={top:$(n).height()-24,left:$(n).width()-24};$(s).on("mousedown",function(e){e.preventDefault();var t,i={top:(t=s).offsetTop,left:t.offsetLeft},o=e.pageX-i.left,a=e.pageY-i.top;function n(e){var t=e.pageY-a,i=e.pageX-o;i>=l.left?i=l.left:i<=0&&(i=0),t<=0?t=0:t>=l.top&&(t=l.top),s.style.left=i+"px",s.style.top=t+"px",$("[data-coords]").each(function(e,o){var a=$(this).data("coords"),s=$(this).find("input");switch(a){case"top":$(s).val(t);break;case"left":$(s).val(i)}})}n(e),s.style.zIndex=1e3,document.onmousemove=function(e){n(e)},s.onmouseup=function(){document.onmousemove=null,s.onmouseup=null},s.ondragstart=function(){return!1}}),$(".info").sticky({topSpacing:20,bottomSpacing:$(".page__wrapper").height()-$(".c-page__main").height()+$(".footer").height()}),$(".lk__item").on("click",function(){console.log(1),$(".lookbook__set").sticky()})}(window);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJyb290IiwiZGF0YSIsIm5hbWUiLCJyYWRpbyIsIiQiLCJhdHRyIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImNsb3Nlc3QiLCJjYXJkIiwicG9pbnQiLCJzaWJsaW5ncyIsImZpbmQiLCJjYXJkQWRhcHRpdmUiLCJ3Iiwid2luZG93Iiwid2lkdGgiLCJpbnNlcnRBZnRlciIsImFwcGVuZCIsInRpbGUiLCJhcnJvd3MiLCJkb3RzIiwiZmFkZSIsImF1dG9wbGF5IiwicGF1c2VPbkhvdmVyIiwic2xpZGVzVG9TaG93IiwicmVjb20iLCJwcmV2QXJyb3ciLCJyZXNwb25zaXZlIiwiYnJlYWtwb2ludCIsInNldHRpbmdzIiwiZWFjaCIsImkiLCJzIiwic2xpZGVyIiwic2xpY2siLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRoaXMiLCJwYXJlbnQiLCJzcmMiLCJzZXRUaW1lb3V0IiwiZmlyc3QiLCJ0cmlnZ2VyIiwiaGlkZSIsInRhYiIsImluZGV4IiwiZ2V0IiwidGFnTmFtZSIsImNzcyIsInNob3ciLCJ0YWJzIiwidG9nZ2xlQ2xhc3MiLCJpb25SYW5nZVNsaWRlciIsInJhZGlvV29yayIsIml6aU1vZGFsIiwibSIsIml0ZW1TZWxlY3RvciIsImd1dHRlciIsIm1hc29ucnkiLCJob3Jpem9udGFsT3JkZXIiLCJsa0FjdGl2ZSIsImhvdmVyIiwiaGFzQ2xhc3MiLCJhcmVhQm9yZGVycyIsInRvcCIsImFyZWEiLCJsZWZ0IiwiaGVpZ2h0Iiwib2Zmc2V0VG9wIiwic2hpZnRZIiwiY29vcmRzIiwiZWxlbSIsIm9mZnNldExlZnQiLCJzaGlmdFgiLCJwYWdlWCIsIm1vdmVBdCIsInBhZ2VZIiwic3R5bGUiLCJmaWVsZCIsImlucHV0IiwidmFsIiwiZG9jdW1lbnQiLCJvbm1vdXNlbW92ZSIsIm9ubW91c2V1cCIsIm9uZHJhZ3N0YXJ0IiwiYm90dG9tU3BhY2luZyIsInRvcFNwYWNpbmciLCJjb25zb2xlIiwibG9n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Q0EyU0c1RSIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24ocm9vdCkge1xuXG5cdGZ1bmN0aW9uIHNsaWRlcnMoKSB7XG5cdFx0Ly8g0J/QsNGA0LDQvNC10YLRgNGLINGB0LvQsNC50LTQtdGA0L7QslxuXHRcdHZhciBkYXRhID0ge1xuXHRcdFx0dGlsZToge1xuXHRcdFx0XHRhcnJvd3M6IGZhbHNlLFxuXHRcdFx0XHRkb3RzOiB0cnVlLFxuXHRcdFx0XHRmYWRlOiB0cnVlLFxuXHRcdFx0XHRhdXRvcGxheTogdHJ1ZSxcblx0XHRcdFx0YXV0b3BsYXlTcGVlZDogNDAwMCxcblx0XHRcdFx0cGF1c2VPbkhvdmVyOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHJlY29tOiB7XG5cdFx0XHRcdHNsaWRlc1RvU2hvdzogNCxcblx0XHRcdFx0cHJldkFycm93OiAkKCcuYXJyb3dfcHJldicpLFxuXHRcdFx0XHRuZXh0QXJyb3c6ICQoJy5hcnJvd19uZXh0JyksXG5cdFx0XHRcdHJlc3BvbnNpdmU6IFtcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRicmVha3BvaW50OiAxMjAwLFxuXHRcdFx0XHRcdFx0c2V0dGluZ3M6IHtcblx0XHRcdFx0XHRcdFx0dmFyaWFibGVXaWR0aDogdHJ1ZVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0se1xuXHRcdFx0XHRcdFx0YnJlYWtwb2ludDogMTAwMCxcblx0XHRcdFx0XHRcdHNldHRpbmdzOiB7XG5cdFx0XHRcdFx0XHRcdHNsaWRlc1RvU2hvdzogM1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0se1xuXHRcdFx0XHRcdFx0YnJlYWtwb2ludDogNzY4LFxuXHRcdFx0XHRcdFx0c2V0dGluZ3M6IHtcblx0XHRcdFx0XHRcdFx0c2xpZGVzVG9TaG93OiAyXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSx7XG5cdFx0XHRcdFx0XHRicmVha3BvaW50OiA1MDAsXG5cdFx0XHRcdFx0XHRzZXR0aW5nczoge1xuXHRcdFx0XHRcdFx0XHRzbGlkZXNUb1Nob3c6IDFcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdF1cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Ly8g0JDQutGC0LjQstCw0YbQuNGPINGB0LvQsNC50LTQtdGA0L7QslxuXHRcdCQoJy5zbGlkZXInKS5lYWNoKGZ1bmN0aW9uKGksIHMpIHtcblx0XHRcdHZhciBzbGlkZXIgPSAkKHMpLmRhdGEoJ3NsaWRlcicpO1xuXG5cdFx0XHQkKHMpLmZpbmQoJy5zbGlkZXJfX3NsaWRlcycpLnNsaWNrKGRhdGFbc2xpZGVyXSk7XG5cdFx0fSk7XG5cdH1cblxuXHRzbGlkZXJzKCk7XG5cblx0Ly8g0JPQsNC70LXRgNC10Y9cblx0JCgnLmdhbGxlcnlfX3ZpZXcnKS5hZGRDbGFzcygnc2hvdycpO1xuXG5cdCQoJy5nYWxsZXJ5X19pdGVtcyBsaScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHQkKHRoaXMpLnBhcmVudCgpLmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdFx0JCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cblx0XHR2YXIgc3JjID0gJCh0aGlzKS5kYXRhKCd2aWV3Jyk7XG5cblx0XHQkKCcuZ2FsbGVyeV9fdmlldycpLnJlbW92ZUNsYXNzKCdzaG93Jyk7XG5cblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0JCgnLmdhbGxlcnlfX3ZpZXcgaW1nJykuYXR0cignc3JjJyxzcmMpO1xuXHRcdFx0JCgnLmdhbGxlcnlfX3ZpZXcnKS5hZGRDbGFzcygnc2hvdycpO1xuXHRcdH0sIDMwMClcblx0fSk7XG5cblx0JCgnLmdhbGxlcnlfX2l0ZW1zIGxpJykuZmlyc3QoKS50cmlnZ2VyKCdjbGljaycpO1xuXG5cdC8vINCi0LDQsdGLXG5cdCQoJy50YWJzIGxpJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdCQodGhpcykucGFyZW50KCkuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHQkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuXHRcdCQoJ1tkYXRhLXRhYl0nKS5oaWRlKCk7XG5cblx0XHR2YXIgdGFiID0gJCgnW2RhdGEtdGFiPVwiJyskKHRoaXMpLmluZGV4KCkrJ1wiXScpLmdldCgwKTtcblxuXHRcdGlmICh0YWIudGFnTmFtZSA9PT0gJ0ZPUk0nKSB7XG5cdFx0XHQkKHRhYikuY3NzKCdkaXNwbGF5JywgJ2ZsZXgnKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JCh0YWIpLnNob3coKTtcblx0XHR9XG5cblx0fSk7XG5cblx0JCgnLnRhYnMnKS5lYWNoKGZ1bmN0aW9uKGksIHRhYnMpIHtcblx0XHQkKHRhYnMpLmZpbmQoJ2xpJykuZmlyc3QoKS50cmlnZ2VyKCdjbGljaycpO1xuXHR9KVxuXG5cdC8vINCR0L7QutC+0LLQvtC1INC80LXQvdGOINCyINC60LDRgtCw0LvQvtCz0LVcblx0JCgnLnNpZGVuYXZfX2l0ZW1fZHJvcCA+IGEnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0JCh0aGlzKS5wYXJlbnQoKS50b2dnbGVDbGFzcygnc2lkZW5hdl9faXRlbV9zaG93Jyk7XG5cdH0pO1xuXG5cdC8vINCf0L7Qu9C30YPQvdC+0Lpcblx0JCgnLnJhbmdlIGlucHV0JykuaW9uUmFuZ2VTbGlkZXIoKTtcblxuXHQvLyDQoNCw0LTQuNC+XG5cdGZ1bmN0aW9uIHJhZGlvV29yayhyYWRpbykge1xuXHRcdHZhciBuYW1lID0gJChyYWRpbykuYXR0cignbmFtZScpO1xuXG5cdFx0JCgnLnJhZGlvIGlucHV0W25hbWU9JytuYW1lKyddJykuY2xvc2VzdCgnLnJhZGlvJykucmVtb3ZlQ2xhc3MoJ3JhZGlvX2FjdGl2ZScpO1xuXHRcdCQocmFkaW8pLmNsb3Nlc3QoJy5yYWRpbycpLmFkZENsYXNzKCdyYWRpb19hY3RpdmUnKTtcblx0fVxuXG5cdCQoJy5yYWRpbyBpbnB1dDpjaGVja2VkJykuZWFjaChmdW5jdGlvbihpLCByYWRpbykge1xuXHRcdHJhZGlvV29yayhyYWRpbyk7XG5cdH0pO1xuXG5cdCQoJy5yYWRpbycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciByYWRpbyA9ICQodGhpcykuZmluZCgnaW5wdXQnKS5nZXQoMCk7XG5cblx0XHRyYWRpb1dvcmsocmFkaW8pO1xuXHR9KTtcblxuXHQvLyDQnNC+0LTQsNC70LrQuFxuXG5cdCQoJ1tkYXRhLW1vZGFsXScpLml6aU1vZGFsKCk7XG5cblx0JCgnW2RhdGEtb3Blbl0nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0dmFyIG0gPSAkKHRoaXMpLmRhdGEoJ29wZW4nKTtcblxuXHRcdCQoJ1tkYXRhLW1vZGFsPVwiJyttKydcIl0nKS5pemlNb2RhbCgnb3BlbicpO1xuXG5cdH0pXG5cblx0Ly8g0KHQtdGC0LrQsFxuXG5cdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0JCgnLmdyaWQnKS5tYXNvbnJ5KHtcblx0XHRcdGl0ZW1TZWxlY3RvcjogJy5ncmlkX19pdGVtJyxcblx0XHRcdGd1dHRlcjogMTksXG5cdFx0XHRob3Jpem9udGFsT3JkZXI6IHRydWVcblx0XHR9KTtcblx0fSwgMTAwKVxuXG5cdC8vIGxvb2tib29rXG5cblx0ZnVuY3Rpb24gbGtBY3RpdmUocG9pbnQpIHtcblx0XHR2YXIgZGF0YSA9ICQocG9pbnQpLmRhdGEoJ2l0ZW0nKSxcblx0XHRcdFx0Y2FyZCA9ICQocG9pbnQpLmNsb3Nlc3QoJy5sb29rYm9vaycpLmZpbmQoJy5sb29rYm9va19fbGlzdCAuY2FyZFtkYXRhLWl0ZW09XCInK2RhdGErJ1wiXScpO1xuXG5cdFx0JChwb2ludCkuc2libGluZ3MoJy5wb2ludCcpLmFkZENsYXNzKCdwb2ludF9kaXNhYmxlJyk7XG5cdFx0JChjYXJkKS5yZW1vdmVDbGFzcygnY2FyZF9kaXNhYmxlJyk7XG5cdFx0JChjYXJkKS5zaWJsaW5ncygpLmFkZENsYXNzKCdjYXJkX2Rpc2FibGUnKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGxrRGlzYWJsZShwb2ludCkge1xuXHRcdCQocG9pbnQpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ3BvaW50X2Rpc2FibGUnKTtcblx0XHQkKHBvaW50KS5jbG9zZXN0KCcubG9va2Jvb2snKS5maW5kKCcuY2FyZF9kaXNhYmxlJykucmVtb3ZlQ2xhc3MoJ2NhcmRfZGlzYWJsZScpO1xuXHR9XG5cblx0JCgnLnBvaW50JykuaG92ZXIoZnVuY3Rpb24oKSB7XG5cdFx0JCh0aGlzKS5wYXJlbnQoKS5maW5kKCcucG9pbnRfYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ3BvaW50X2FjdGl2ZScpLnNpYmxpbmdzKCcucG9pbnRfZGlzYWJsZScpLnJlbW92ZUNsYXNzKCdwb2ludF9kaXNhYmxlJyk7XG5cdFx0bGtBY3RpdmUodGhpcyk7XG5cdH0sIGZ1bmN0aW9uKCkge1xuXHRcdGlmICgkKHRoaXMpLmhhc0NsYXNzKCdwb2ludF9hY3RpdmUnKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRsa0Rpc2FibGUodGhpcyk7XG5cdH0pXG5cblx0JCgnLnBvaW50Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0JCh0aGlzKS5hZGRDbGFzcygncG9pbnRfYWN0aXZlJyk7XG5cdFx0bGtBY3RpdmUodGhpcyk7XG5cdH0pO1xuXG5cdC8vINCa0LDRgNGC0L7Rh9C60LAg0LDQtNCw0L/RgtC40LJcblxuXHRmdW5jdGlvbiBjYXJkQWRhcHRpdmUoKSB7XG5cdFx0dmFyIHcgPSAkKHdpbmRvdykud2lkdGgoKTtcblxuXHRcdGlmICh3IDw9IDEwMDApIHtcblx0XHRcdCQoJy5pbmZvJykuaW5zZXJ0QWZ0ZXIoJy5nYWxsZXJ5Jyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoJy5jLXBhZ2VfX2luZm8nKS5hcHBlbmQoJCgnLmluZm8nKSk7XG5cdFx0fVxuXHR9XG5cblx0Y2FyZEFkYXB0aXZlKCk7XG5cdCQod2luZG93KS5vbigncmVzaXplJywgY2FyZEFkYXB0aXZlKTtcblxuXHQvLyDQnNC10L3RjlxuXG5cdCQoJy5tZW51Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdCQodGhpcykuY2xvc2VzdCgnLmhlYWRlcicpLnRvZ2dsZUNsYXNzKCdoZWFkZXJfc2hvdy1tZW51Jylcblx0fSlcblxuXHQvLyDQk9C+0YDQvtC0XG5cblx0JCgnLmNpdHlfX2N1cnJlbnQnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0JCgnLmNpdHknKS50b2dnbGVDbGFzcygnY2l0eV9zaG93Jyk7XG5cdH0pXG5cblx0Ly8gbG9va2Jvb2sgZWRpdG9yXG5cblx0ZnVuY3Rpb24gZ2V0Q29vcmRzKGVsZW0pIHtcblx0ICByZXR1cm4ge1xuXHQgICAgdG9wOiBlbGVtLm9mZnNldFRvcCxcblx0ICAgIGxlZnQ6IGVsZW0ub2Zmc2V0TGVmdFxuXHQgIH07XG5cdH1cblxuXHR2YXIgcG9pbnQgPSAkKCcucG9pbnRfbW92ZScpLmdldCgwKSxcblx0XHRcdGFyZWEgPSAkKCcubG9va2Jvb2tfX3NldCBpbWcnKSxcblx0XHRcdGFyZWFCb3JkZXJzID0ge1xuXHRcdFx0XHR0b3A6ICQoYXJlYSkuaGVpZ2h0KCkgLSAyNCxcblx0XHRcdFx0bGVmdDogJChhcmVhKS53aWR0aCgpIC0gMjRcblx0XHRcdH07XG5cblx0JChwb2ludCkub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR2YXIgY29vcmRzID0gZ2V0Q29vcmRzKHBvaW50KSxcblx0XHRcdFx0c2hpZnRYID0gZS5wYWdlWCAtIGNvb3Jkcy5sZWZ0LFxuICBcdFx0XHRzaGlmdFkgPSBlLnBhZ2VZIC0gY29vcmRzLnRvcDtcblxuXHQgIG1vdmVBdChlKTtcblxuXHQgIHBvaW50LnN0eWxlLnpJbmRleCA9IDEwMDA7IC8vINC90LDQtCDQtNGA0YPQs9C40LzQuCDRjdC70LXQvNC10L3RgtCw0LzQuFxuXG5cdFx0ZnVuY3Rpb24gbW92ZUF0KGUpIHtcblx0XHRcdHZhciB0b3AgPSBlLnBhZ2VZIC0gc2hpZnRZLFxuXHRcdFx0XHRcdGxlZnQgPSBlLnBhZ2VYIC0gc2hpZnRYO1xuXG5cdFx0XHRpZiAobGVmdCA+PSBhcmVhQm9yZGVycy5sZWZ0KSB7XG5cdFx0XHRcdGxlZnQgPSBhcmVhQm9yZGVycy5sZWZ0XG5cdFx0XHR9IGVsc2UgaWYgKGxlZnQgPD0gMCl7XG5cdFx0XHRcdGxlZnQgPSAwO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodG9wIDw9IDApIHtcblx0XHRcdFx0dG9wID0gMDtcblx0XHRcdH0gZWxzZSBpZiAodG9wID49IGFyZWFCb3JkZXJzLnRvcCkge1xuXHRcdFx0XHR0b3AgPSBhcmVhQm9yZGVycy50b3Bcblx0XHRcdH1cblxuXHQgICAgcG9pbnQuc3R5bGUubGVmdCA9IGxlZnQgKyAncHgnO1xuXHQgICAgcG9pbnQuc3R5bGUudG9wID0gdG9wICArICdweCc7XG5cblx0XHRcdCQoJ1tkYXRhLWNvb3Jkc10nKS5lYWNoKGZ1bmN0aW9uKGksIGZpZWxkKSB7XG5cdFx0XHRcdHZhciBjb29yZHMgPSAkKHRoaXMpLmRhdGEoJ2Nvb3JkcycpLFxuXHRcdFx0XHRcdFx0aW5wdXQgPSAkKHRoaXMpLmZpbmQoJ2lucHV0Jyk7XG5cblx0XHRcdFx0c3dpdGNoIChjb29yZHMpIHtcblx0XHRcdFx0XHRjYXNlICd0b3AnOlxuXHRcdFx0XHRcdFx0JChpbnB1dCkudmFsKHRvcCk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICdsZWZ0Jzpcblx0XHRcdFx0XHRcdCQoaW5wdXQpLnZhbChsZWZ0KTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0ICB9XG5cblx0XHRkb2N1bWVudC5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uKGUpIHtcblx0ICAgIG1vdmVBdChlKTtcblx0ICB9O1xuXG5cdCAgcG9pbnQub25tb3VzZXVwID0gZnVuY3Rpb24oKSB7XG5cdCAgICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IG51bGw7XG5cdCAgICBwb2ludC5vbm1vdXNldXAgPSBudWxsO1xuXHQgIH07XG5cblx0XHRwb2ludC5vbmRyYWdzdGFydCA9IGZ1bmN0aW9uKCkge1xuXHRcdCAgcmV0dXJuIGZhbHNlO1xuXHRcdH07XG5cdH0pXG5cblx0Ly8g0JjQvdGE0L4g0LIg0LrQsNGA0YLQvtGH0LrQtVxuXHQvLyB2YXIgc3RpY2t5ID0gbmV3IFN0aWNreSgnLmluZm8nKTtcblxuXHQkKCcuaW5mbycpLnN0aWNreSh7XG5cdFx0dG9wU3BhY2luZzogMjAsXG5cdFx0Ym90dG9tU3BhY2luZzogJCgnLnBhZ2VfX3dyYXBwZXInKS5oZWlnaHQoKSAtICQoJy5jLXBhZ2VfX21haW4nKS5oZWlnaHQoKSArICQoJy5mb290ZXInKS5oZWlnaHQoKVxuXHR9KTtcblxuXHQkKCcubGtfX2l0ZW0nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRjb25zb2xlLmxvZygxKVxuXHRcdCQoJy5sb29rYm9va19fc2V0Jykuc3RpY2t5KClcblx0fSk7XG5cblxufSkod2luZG93KTtcbiJdfQ==
